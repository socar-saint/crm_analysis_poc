# Sales TF : CRM 캠페인 분석 시스템

> ** Sales TF CRM 캠페인 세그먼트 별 문구 인사이트 파악 **

*by saintwo*

---

## 🚀 개요

CRM 캠페인 분석을 제공하며, 통계적 분석과 고급 LLM 기반 인사이트를 결합하여 마케팅 최적화를 위한 실행 가능한 비즈니스 인텔리전스를 제공합니다.

### 주요 기능

- **🤖 멀티 에이전트 아키텍처**: 다양한 분석 단계를 위한 전문 AI 에이전트
- **📊 통계적 분석**: 고급 퍼널 성과 및 전환율 분석
- **🧠 LLM 기반 인사이트**: 캠페인 메시지 및 콘텐츠의 의미론적 분석
- **📈 경영진 보고서**: 실행 가능한 권장사항이 포함된 전문 HTML 보고서
- **⚡ 실시간 처리**: 대규모 캠페인 데이터를 위한 효율적인 파이프라인
- **🎯 비즈니스 인텔리전스**: 마케팅 최적화를 위한 데이터 기반 인사이트

---

## 🏗️ 시스템 아키텍처

### 에이전트 파이프라인

```
데이터 이해 → 통계적 분석 → LLM 분석 → 종합 분석 → 보고서 생성
```

### 핵심 구성 요소

- **데이터 이해 에이전트**: CSV 검증 및 데이터 구조 분석
- **통계적 분석 에이전트**: 퍼널 성과 및 전환 지표
- **LLM 분석 에이전트**: 메시지 콘텐츠 및 효과성 분석
- **종합 분석 에이전트**: 에이전트 간 인사이트 통합
- **보고서 생성 에이전트**: 경영진 요약 및 HTML 보고서 생성

---

## 📁 프로젝트 구조

```
crm-analysis-agent/
├── 📄 main.py                            # 메인 실행 스크립트
├── 📁 config/                            # 설정 관리
│   ├── settings.py                       # 시스템 설정 및 LLM 구성
│   └── column_descriptions.py            # 데이터 스키마 정의
├── 📁 core/                              # 핵심 비즈니스 로직
│   ├── analysis/                         # 통계적 분석 도구
│   │   ├── analysis_tools.py             # 메인 분석 함수
│   │   ├── data_analysis_functions.py    # 데이터 처리 유틸리티
│   │   └── data_preprocessing.py         # 데이터 정리 및 준비
│   ├── llm/                              # LLM 통합 계층
│   │   ├── domain_knowledge.py           # 비즈니스 도메인 지식
│   │   ├── prompt_engineering.py         # LLM 프롬프트 템플릿
│   │   └── simple_llm_terminology_tools.py # LLM 기반 검증
│   └── reporting/                        # 보고서 생성
│       └── comprehensive_html_report.py  # HTML 보고서 생성기
├── 📁 agents/                            # 에이전트 정의
│   ├── agent_manager.py                  # 에이전트 생명주기 관리
│   ├── data_understanding_agent.py       # 데이터 검증 에이전트
│   ├── statistical_analysis_agent.py     # 통계적 분석 에이전트
│   └── comprehensive_agent.py            # 종합 분석 에이전트
├── 📁 data/                              # 데이터 관리
│   ├── raw/                              # 입력 데이터 파일
│   └── processed/                        # 처리된 데이터 출력
├── 📁 outputs/                           # 생성된 보고서 및 시각화
│   └── reports/                          # HTML 보고서 및 분석 결과
└── 📁 archive/                           # 과거 데이터 및 백업
```

---

## 🛠️ 설치 및 설정

### 사전 요구사항

- Python 3.11+
- UV 패키지 매니저
- Azure OpenAI API 액세스
- Google ADK (Agent Development Kit)

### 빠른 시작

1. **클론 및 이동**
   ```bash
   cd crm-analysis-agent
   ```

2. **의존성 설치**
   ```bash
   uv sync
   ```

3. **환경 구성**
   ```bash
   # Azure OpenAI API 자격 증명 설정
   export AZURE_OPENAI_API_KEY="your-api-key"
   export AZURE_OPENAI_ENDPOINT="your-endpoint"
   ```

4. **분석 실행**
   ```bash
   uv run main.py
   ```

---

## 📊 사용법

### 기본 분석

```bash
# 전체 분석 파이프라인 실행
uv run main.py

# 시스템이 수행할 작업:
# 1. CSV 데이터 로드 및 검증
# 2. 통계적 분석 수행
# 3. LLM 기반 콘텐츠 분석 실행
# 4. 종합 인사이트 생성
# 5. 경영진 HTML 보고서 생성
```

### 입력 데이터 형식

시스템은 다음 구조의 CSV 파일을 예상합니다:

- **캠페인 데이터**: 메시지 콘텐츠, 퍼널 단계, 전환 지표
- **실험 설계**: A/B 테스트 그룹 (실험 vs 대조)
- **성과 지표**: 전환율, 리프트 계산, 참여 데이터

### 출력 보고서

- **경영진 요약**: 고수준 인사이트 및 권장사항
- **통계적 분석**: 퍼널 성과 및 전환 지표
- **LLM 인사이트**: 메시지 효과성 및 콘텐츠 최적화
- **실행 가능한 권장사항**: 데이터 기반 마케팅 전략

---

## 🔧 구성

### LLM 설정

`config/settings.py`에서 LLM 제공업체를 구성하세요:

```python
# Azure OpenAI 구성
AZURE_OPENAI_API_KEY = "your-api-key"
AZURE_OPENAI_ENDPOINT = "your-endpoint"
AZURE_OPENAI_API_VERSION = "your-version"
AZURE_OPENAI_DEPLOYMENT_NAME = "your-deployment-name"
```

### 분석 매개변수

에이전트 구성에서 분석 동작을 사용자 정의하세요:

- **샘플 크기**: LLM 분석을 위한 메시지 샘플링 조정
- **퍼널 정의**: 퍼널 단계 매핑 구성
- **성과 임계값**: 리프트 및 전환율 벤치마크 설정

---

## 📈 주요 지표 및 인사이트

### 통계적 분석

- **전환율**: 실험 vs 대조 그룹 성과
- **리프트 분석**: 캠페인 개선의 통계적 유의성
- **퍼널 성과**: 단계별 전환 최적화
- **세그먼트 분석**: 다양한 사용자 세그먼트의 성과

### LLM 기반 인사이트

- **메시지 효과성**: 콘텐츠 분석 및 최적화 권장사항
- **톤앤매너**: 브랜드 보이스 일관성 및 영향 분석
- **키워드 성과**: 고임팩트 메시징 패턴
- **콘텐츠 전략**: 데이터 기반 메시징 권장사항

---

## 🚀 고급 기능

### 멀티 에이전트 오케스트레이션

시스템은 정교한 에이전트 오케스트레이션 패턴을 사용합니다:

- **컨텍스트 전달**: 에이전트 간 원활한 데이터 흐름
- **오류 처리**: 강력한 실패 복구 및 재시도 메커니즘
- **병렬 처리**: 대규모 데이터셋을 위한 최적화된 실행
- **결과 집계**: 멀티 에이전트 인사이트의 지능적 통합

### 보고서 생성

- **동적 HTML 보고서**: 대화형 요소가 포함된 실시간 보고서 생성
- **경영진 대시보드**: C레벨 인사이트 및 전략적 권장사항
- **데이터 시각화**: 차트, 그래프 및 성과 지표
- **내보내기 기능**: 다양한 이해관계자를 위한 다중 형식 지원

---

## 🔍 문제 해결

### 일반적인 문제

1. **LLM API 오류**
   ```bash
   # API 자격 증명 및 엔드포인트 구성 확인
   # Azure OpenAI 서비스 상태 확인
   ```

2. **데이터 형식 문제**
   ```bash
   # CSV가 예상 스키마를 따르는지 확인
   # 열 이름 및 데이터 유형 확인
   ```

3. **메모리 문제**
   ```bash
   # 대규모 데이터셋의 경우 데이터 샘플링 고려
   # 실행 중 시스템 리소스 모니터링
   ```

### 성능 최적화

- **데이터 샘플링**: LLM 분석을 위한 대표 샘플 사용
- **캐싱**: 반복 분석을 위한 결과 캐싱 활용
- **병렬 처리**: 동시 에이전트 실행 활성화
- **리소스 모니터링**: 메모리 및 CPU 사용량 추적

---

## 📚 기술 세부사항

### 의존성

- **Google ADK**: 에이전트 프레임워크 및 LLM 통합
- **LiteLLM**: 멀티 제공업체 LLM 추상화
- **Pandas**: 데이터 조작 및 분석
- **NumPy**: 수치 계산
- **Matplotlib/Seaborn**: 데이터 시각화

### 성능 특성

- **처리 속도**: 분당 약 100-200행
- **메모리 사용량**: 일반적인 데이터셋에 대해 약 2-4GB
- **정확도**: 리프트 분석에 대해 95%+ 통계적 신뢰도
- **확장성**: 10,000개 이상의 캠페인 레코드까지 테스트됨

---

## 🤝 기여하기

### 개발 가이드라인

1. **코드 스타일**: PEP 8 및 타입 힌트 준수
2. **테스팅**: 중요한 함수에 대한 테스트 커버리지 유지
3. **문서화**: 새 기능에 대한 README 업데이트
4. **성능**: 실행 시간 모니터링 및 최적화

### 아키텍처 원칙

- **모듈성**: 명확한 관심사 분리
- **확장성**: 새로운 에이전트 및 도구의 쉬운 추가
- **신뢰성**: 강력한 오류 처리 및 복구
- **유지보수성**: 깔끔하고 문서화된 테스트 가능한 코드

---

## 📄 라이선스

이 프로젝트는 내부 사용을 위해 개발된 독점 소프트웨어입니다.

---

## 👨‍💻 작성자

**saintwo** - 시니어 AI 엔지니어

*AI 기반 비즈니스 인텔리전스 및 마케팅 최적화 시스템 전문*

---

*마지막 업데이트: 2025년 10월*
